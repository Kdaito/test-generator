# テストジェネレーター (Test Generator)

Test Generatorは、Go言語で作成されたCLIです。csv形式で保存された対象関数とテストケースの情報を元に、ソースコードにテストファイルを自動で作成し、テストケースを記述します。

## 特徴
* csvファイルを元にテストケースを記述したテストファイルを生成
* 複数のテストライブラリをサポート(予定)

## インストール
Test Generatorをインストールするには、リポジトリをクローンしてGoでビルドします

```sh
コードをコピーする
git clone https://github.com/Kdaito/test-generator.git
cd test-generator
go build
```

## 使用方法
Test Generatorはコマンドラインインターフェースを通じて使用できます。使用時には、フラグによってテストケース、ソースコード、実装ライブラリを指定する必要があります。

| フラグ | 内容 |
| ---- | ---- |
| `-src` | テストをしたい関数と、そのテストケースを記述したcsvファイルを含むフォルダの相対パス |
| `-targ` | テストを実装したい関数を含むソースコードの相対パス |
| `-typ` | テストを実装するライブラリ |

例
```sh
./test-generator -src=./test-case -targ=./sample-app/src/services -typ=jest
```

### 注意

* `-targ`では、思わぬ範囲に影響を与えることを防ぐため、できるだけ狭い範囲での指定をお勧めします。
* `-typ`で指定できるのは現在`jest`の身となっています。ごめんなさい。
* `-src`で指定するフォルダに含まれるcsvファイルは以下の形式で記述してください。
  * 以下の行の繰り返し
    * 1列目: テストを実装したい関数名
    * 2列目: テストケースを実装する際の名前
    * 2列目: 実装したいテストケースのタイトル(複数ある場合はコンマ区切り)
* 作成する機能はありますが、上書き機能はありません。多分なんかバグりますのでご注意を。
* 完成していないのでもし利用する人がいたら各自の責任でお願いします。



#### csvファイルの例

| 1列目 | 2列目 | 3列目 |
| ---- | ---- | ---- |
| getAgeFromBirthDay | getAgeFromBirthDay | 正しい年齢を計算する,誕生日が今日の場合、年齢を正しく計算する,未来の日付を渡すと年齢が負になる,誕生日がうるう年の場合、年齢を正しく計算する |

出力結果(`-typ=jest`)

```ts
import { getAgeFromBirthDay } from './age';

describe('getAgeFromBirthDay', () => {

  test('正しい年齢を計算する', () => {
    
  });

  test('誕生日が今日の場合、年齢を正しく計算する', () => {
    
  });

  test('未来の日付を渡すと年齢が負になる', () => {
    
  });

  test('誕生日がうるう年の場合、年齢を正しく計算する', () => {
    
  });
});

```